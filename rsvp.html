<head>
  <title>rsvp</title>
  <link href='http://fonts.googleapis.com/css?family=Old+Standard+TT:400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
</head>

<body>

<div class="admin-nav-wrap">
  <div class="row">

    <section class="small-12 push-10" id="admin_nav">
      {{loginButtons align="right"}}
    </section>
  </div>
</div>

<div class="login-wrap">
  <div class="row">

    <section class id="login_main">

      {{#if currentUser}}
      {{> partyCreation}}

      {{else}}
      {{> openInvitation}}
      {{/if}}

    </section>
  </div>
</div>

<div class="content-main-wrap">
  <div class="row">

    <section class id="content_main">


      {{#if currentUser}}
      <h2>Parties</h2>
      {{> partyList}}

      {{else}}
      <p class="large-12">
      Please login to view and edit your invitation information.
      </p>

      {{/if}}
    </section>

  </div>
</div>
</body>

<template name="partyList">
  <ul class="party-container">
    {{#each parties}}

    {{#if showDetailsFor name}}

      <li class="party-header current">{{name}}
      {{> partyDetails}}
      </li>

    {{else}}
      <li class="party-header">{{name}}</li>
    
    {{/if}}
    

    {{/each}}
  </ul>
</template>

<template name="partyCreation">
  <form id="party-creation">
    <label>
      <h1>Create a Party</h1>
      <h3>Please specify a name for the party</h3>
      <input type="text" class="party-name" id="invitation_id"></input>
    </label>
    <button class="create">Create Party</button>
  </form>
</template>

<template name="openInvitation">
  <div class="login-wrap">
  <div class="row">

  <section class id="login_main">
  <label>
    <h1>Welcome</h1>
    <h3>Please specify your invitation code to edit your invitation</h3>
    <input type="text" id="invitation_id">
  </label>
  <button class="button">Go</button>
 
  </section>
  </div>
  </div>
</template>

<template name="partyDetails">
    <ul class="details">
      <li>Name: {{name}}</li>
    </ul>

    <h3>Invitation List</h3>
    {{> invitationList}}
    {{> invitationCreation}}
  </section>
</template>

<template name="invitationList">
  <ul>
    {{#each invitations}}
    <li>{{inviteeName}}</li>
    <li>{{invitationCode}}</li>
    <li>{{numberOfGuests}}</li>
    <li>{{invitationStatus}}</li>
    {{/each}}
  </ul>
</template>

<template name="invitationCreation">
  <form id="invitation-creation">
    <label>Invitee Name:
      <input type="text" class="invitee-name"></input>
    </label>
    <button class="create">Create invitation</button>
  </form>
</template>
